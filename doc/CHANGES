+ : new feature
- : deprecated feature
* : bugfix or changed code
Bug numbers are references to bugs in http://www.achievo.org/bugzilla
[names] are references to people in the AUTHORS file.
Please do not exceed 80 characters per line.
Latest changes go on top, different types of changes may be mixed.


Changes in ATK 6.5
------------------
+ atkActionHandlers now have a setBoxTemplate to set the template from your
  custom theme that renders the action.tpl. Currently only implemented in the
  add and edit handlers. [Sandy]
* SESSION_REPLACE now supports levelskips, so we can replace multiple levels
  on the sessionstack. [Tjeerd/Peter]
+ Added Zend Framework release 1.9 branche. [Peter]
* Fixed bug where atkNode::updateDb() did not pass its includes and exludes on
  to atkMlSplitter::updateMlRecords(). atkMlSplitter::updateMlRecords() now
  correctly handles provided includes and excludes. [Matthijs]
+ atkDropDownMenu now supports JavaScript calls for menuitems, simply start
  your URL with "javascript:". [Peter]
* Correctly escape atkHref url's. Please note that this change might be
  backwards incompatible in the highly unlinkely event you escape the URL
  yourself beforehand. [Peter]
* Generalized atkController::getButton so you can use it for undefined
  actions (in which case the button name will be the actio name). [Peter]
* Improved atkSelector::where so that multiple calls will be ANDed together
  (something you would expect it to do anyway). [Peter]
* Log system queries (like locks, metadata retrieval etc.) separately so we
  can give a distinct query count in the debug output. At the moment only
  implemented in the MySQLi driver. [Peter]
* Don't display menu and top bar for frameless themes if the request
  parameters contain the request parameter atknonav. [Peter]
* Fixed bug in atkUpdatedByAttribute for displaying the correct user in
  add/edit display mode. [Peter]
* Made SQL where clause checker aware that some parameters might be arrays
  instead of a single value. [Peter]
* Bug fixed that caused atkUpdateStampAttribute and atkCreatedStampAttribute to
  cause 'field is required' errors when the AF_OBLIGATORY flag was set [Harrie]
+ Added atkPolymorphicOneToOneRelation to atk/relations. The usage of this
  relation type is described in a HOWTO, but wasn't available in ATK [Matthijs]
* Fixed bug in atkMySQLiDb driver which caused problems when retrieving metadata
  for tables names that contain schema information. The table and schema were
  incorrectly escaped with backticks when retrieving metadata. [Matthijs]
+ Added session manager stack garbage collector which automatically removes
  stacks that haven't been used for a certain time period (controlled by
  $config_session_max_stack_inactivity_period, default: 3600s == 1h). [Peter]
* Bug fixed session leak in atkOneToManyRelation's datagrid usage. [Peter]
* Changed the behavior of smart debugging. By default if you turn smart
  debugging on by ip or by a request key the debug level will be 0 until
  you specify a different level in the URL. [Peter]
+ Added special configuration variable "debug_enabled" which can be used to
  check if debugging is enabled even though the current level might be 0.
  This can come in handy if you want to create a debug menu which you can
  use to change the different debug levels. [Peter]
* Improved behaviour of atkDummyAttribute when setting flags in the
  meta node. [Peter]
+ Added special 'atknested' request parameter which causes ATK to instantly
  redirect to the given URL with session mode SESSION_NESTED. This can be
  used to prepend something on the stack. For example, a direct add link in
  the menu which prepends the admin action so that after the user is done
  adding the record, the user is redirected to the admin screen instead of
  getting a new empty form. [Peter]
* Fixed bug in atkMySQLiDb driver which caused problems with special table
  names that need to be escaped when retrieving metadata. [Peter]
  when retrieving table metadata. [Peter]
* Themes now support the new PHP style templates too. [Peter]
* Improved tooltip support (reminder, if you add a <node>_<column>_tooltip
  entry in your text file it will be displayed as a help text when hovering
  a special help icon). [Peter]
* small optimization to AtkStringParser->getFields(). [Matthijs]
* removed class AtkOneToManyRelationSessionGridHandler from file
  class.atkonetomanyrelation.inc and put it into its own file.
  Otherwise the classloader couldn't properly cache this class and
  would rebuild the class list every time. [Matthijs]
* Fixed retrieval of last insert id for the MySQLi db driver.
  In certain situations where a table with an autoincrement column is used, the
  driver would return 0 instead of the newly incremented id. [Matthijs]
+ Added atkAddHandler::setSaveAction, atkSaveHandler::setAddAction,
  atkEditHandler::setUpdateAction and atkUpdatehandler::setEditAction to
  make it more easy to use these handlers inside custom actions. [Peter]
+ [EXPERIMENTAL] Added atkAttribute::observeJS($event, $body) method which
  can be used to observe JavaScript events on attribute fields. [Peter]
* Updated PrototypeJS to version 1.6.1. [Tjeerd]
* Fixed AF_DATE_STRING support in the dateattribute. Reported by
  Arjen Tebbenhof. Thanks Arjen for providing a patch and reporting this
  issue! [Arjen Tebbenhof, Martin]
+ Added data retrieval convenience methods to atkDb (getRow, getRowsAssoc,
  getValuesAssoc) which support specifying columns to use for the key
  (or value) in the result set. [Peter, Tjeerd]
* Improved getValue and getValues methods in atkDb, now support
  both numerical and string column names. [Peter, Tjeerd]
* Fixed bug in atkDb::getValue which might have caused the retrieval of
  more rows than necessary. Please specify either you own limit in the query
  or use the new $useLimit parameter and set it to true. [Peter, Tjeerd]
* Fixed parameter order in atkText call inside the sessionmanager::stacktrace
  function. [Guido]

Changes in prior versions
-------------------------
Changes in older ATK versions can be found at:
http://websvn.ibuildings.nl/wsvn/atk/atk/tags/release_6_4_3/doc/CHANGES
